.search-result-list
    .spin(ng-show="vm.loadingList", tg-loading="vm.loadingList")

    ul.project-list(ng-if="!vm.loadingList && vm.searchResult.size")
        li.list-itemtype-project(tg-repeat="project in vm.searchResult track by project.get('id')")
            .list-itemtype-project-general
                .list-itemtype-project-left
                    .list-itemtype-project-match-count(ng-if="vm.activeParams.q")
                      span {{ project.get('matchCount') }}x
                    a.list-itemtype-project-image(
                        href="#"
                        tg-nav="project:project=project.get('slug')"
                        title="{{ ::project.get('name') }}"
                    )
                        img(
                            tg-project-logo-small-src="::project"
                            alt="{{::project.get('name')}}"
                        )
                    .list-itemtype-project-data
                        h2
                            a(
                                href="#"
                                tg-nav="project:project=project.get('slug')"
                                title="{{ ::project.get('name')}}"
                                ng-bind-html="project.get('name') | highlightTerms:vm.activeParams.q"
                            )
                                //- tg-highlighted-text(text="project.get('name')", q="vm.activeParams.q")
                            
                            tg-svg.look-for-people(
                                ng-if="project.get('is_looking_for_people')"
                                svg-icon="icon-recruit"
                                svg-title="{{ ::project.get('looking_for_people_note') }}"
                            )
                        p(ng-bind-html="::project.get('description') | limitTo:300 | highlightTerms:vm.activeParams.q")
                            span(ng-if="::project.get('description').length > 300") ...
                .list-itemtype-project-right.project-statistics
                    span.statistic(
                        ng-class="{'active': project.get('is_fan')}"
                        title="{{ 'PROJECT.FANS_COUNTER_TITLE'|translate:{total:project.get('total_fans')||0}:'messageformat' }}"
                    )
                        tg-svg(svg-icon="icon-like")
                        span {{::project.get('total_fans')}}
                    span.statistic(
                        ng-class="{'active': project.get('is_watcher')}"
                        title="{{ 'PROJECT.WATCHERS_COUNTER_TITLE'|translate:{total:project.get('total_watchers')||0}:'messageformat' }}"
                    )
                        tg-svg(svg-icon="icon-watch")
                        span {{::project.get('total_watchers')}}
                    span.statistic(
                        ng-class="{'active': project.get('i_am_member')}"
                        title="{{ 'PROJECT.MEMBERS_COUNTER_TITLE'|translate:{total:project.get('members').size||0}:'messageformat' }}"
                    )
                        tg-svg(svg-icon="icon-team")
                        span.statistics-num {{ ::project.get('members').size }}
            .list-itemtype-project-relations
                .relations-list(ng-repeat='field in ["issues", "userstories", "tasks"]', ng-if="project.get(field, []).size > 0")
                    .relations-list-heading
                      | {{ field }}
                    .relations-list-body
                      .related-item(tg-repeat="item in project.get(field) track by item.get('id')")
                          .subject
                              a(title="{{item.get('ref')}} {{item.get('subject')}}" tg-nav="project-{{field}}-detail:project=project.get('slug'),ref=item.get('ref')")
                                  span(tg-bo-ref="item.get('ref')")
                                  span(ng-bind-html="item.get('subject') | highlightTerms:vm.activeParams.q")
                                    
                .relations-list(ng-repeat='field in ["wikipages"]', ng-if="project.get(field, []).size > 0")
                    .relations-list-heading
                      | {{ field }}
                    .relations-list-body
                      .related-item(tg-repeat="item in project.get(field) track by item.get('id')")
                          .subject
                              a(title="{{item.get('ref')}} {{item.get('subject')}}" tg-nav="project-wiki-page:project=project.get('slug'),slug=item.get('slug')")
                                  span(ng-bind-html="item.get('slug') | highlightTerms:vm.activeParams.q")

    .empty-search-results(ng-if="!vm.searchResult.size && !vm.loadingList")
        img(
            src="/#{v}/images/issues-empty.png",
            alt="{{ DISCOVER.EMPTY | translate }}"
        )
        p.title(translate="DISCOVER.EMPTY")
